<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emploi | OFFRES D'EMPLOI SERIEUSE 242</title>
    <!-- BOXICONS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
    <link rel="icon" type="image/png" href="../images/logo.jpg" />
    <link rel="stylesheet" href="../css/main.css" />
</head>
<body>
    <!--=============== HEADER ===============-->
    <header class="header" id="header">
        <nav class="nav">
            <!-- LOGO -->
            <a href="index.html" class="nav__logo">
                <img src="../images/logo.jpg" alt="Logo offre d'emploie 242" class="logo" />
            </a>
    
            <!-- MENU -->
            <div class="nav_menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item">
                        <a href="../index.html" class="nav__link active-link">Acceuil</a>
                    </li>
                    <li class="nav__item">
                        <a href="emploi.html" class="nav__link">Emploi</a>
                    </li>
                    <li class="nav__item">
                        <a href="about.html" class="nav__link">À propos</a>
                    </li>
                    <li class="nav__item">
                        <a href="contact.html" class="nav__link">Contact</a>
                    </li>
                </ul>
    
                <!-- BOUTON FERMER -->
                <div class="nav__close" id="nav-close">
                    <i class="bx bx-x"></i>
                </div>
            </div>
    
            <!-- BOUTONS À DROITE (USER / BURGER) -->
            <div class="nav__btns">
                <div class="login__toggle" id="login-button">
                    <a href="./pages/profile.html">
                        <i class="bx bx-user"></i>
                    </a>
                </div>
                <!-- BUTTON DE CONNEXIN VISIBLE QUE SUR LES PC -->
                <a href="./pages/connexion.html" class="nav__link login">
                    connexion
                </a>
                <div class="nav__toggle" id="nav-toggle">
                    <i class="bx bx-grid-alt"></i>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <!-- Fenêtre modale cachée -->
        <div class="modal" id="applyModal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>Postuler à cette offre</h2>
                <form id="applyForm">
                    <label for="fullname">Nom complet :</label>
                    <input type="text" id="fullname" placeholder="Votre nom complet" required>
        
                    <label for="email">Email :</label>
                    <input type="email" id="email" placeholder="Votre email" required>
        
                    <label for="cv">Télécharger votre CV :</label>
                    <input type="file" id="cv" accept=".pdf,.doc,.docx" required>
        
                    <label for="message">Message (optionnel) :</label>
                    <textarea id="message" rows="4" placeholder="Écrivez un court message..."></textarea>
        
                    <button type="submit" class="btn-submit">Envoyer ma candidature</button>
                </form>
            </div>
        </div>

        <section class="emplois">
            <h1 class="section-title">Offres d’emploi disponibles</h1>
        
            <div class="offre-card">
                <div class="offre-header">
                    <img src="https://media.istockphoto.com/id/2193434322/fr/photo/recycle.webp?a=1&b=1&s=612x612&w=0&k=20&c=8Db47f5udxyF7tayGbcAefwh1KYC9051puhwl8DRwSM=" alt="Logo entreprise" class="offre-logo">
                    <div>
                        <h2 class="poste">Développeur Web</h2>
                        <p class="entreprise"><i class='bx bx-buildings'></i> TechCorp Congo</p>
                        <p class="recruteur"><i class='bx bx-user-pin'></i> Recruteur : Jean Dupont</p>
                        <p class="date"><i class='bx bx-calendar'></i> Date limite : 30 Novembre 2025</p>
                    </div>
                </div>
            
                <div class="offre-body">
                    <p class="description"
                        data-full="Nous recherchons un développeur web passionné pour rejoindre notre équipe dynamique. Vous participerez au développement de sites modernes, au design responsive et à l’intégration de nouvelles fonctionnalités avec les technologies récentes.">
                        Nous recherchons un développeur web passionné pour rejoindre notre équipe dynamique...
                    </p>
                    <div class="offre-actions">
                        <button class="btn-voir-plus">Voir plus</button>
                        <button class="btn-postuler">Postuler</button>
                    </div>
                </div>
            </div>        
            <!-- Autre exemple -->
            <div class="offre-card">
                <div class="offre-header">
                    <img src="https://plus.unsplash.com/premium_photo-1667354097023-4b8d9c3f7767?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTd8fGxvZ28lMjBlbnRyZXByaXNlfGVufDB8fDB8fHww" alt="Logo entreprise" class="offre-logo">
                    <div>
                        <h2 class="poste">Chargé QHSE</h2>
                        <p class="entreprise"><i class='bx bx-buildings'></i> SafeWork Africa</p>
                        <p class="recruteur"><i class='bx bx-user-pin'></i> Recruteur : Amina Dembélé</p>
                        <p class="date"><i class='bx bx-calendar'></i> Date limite : 15 Décembre 2025</p>
                    </div>
                </div>
        
                <div class="offre-body">
                    <p class="description"
                       data-full="Nous cherchons un chargé QHSE expérimenté pour superviser la mise en œuvre des politiques de sécurité et
                        d’hygiène sur nos sites. Vous assurerez le suivi des normes ISO Cumque reiciendis adipisci animi in facilis totam debitis perferendis"
                    >
                        Nous cherchons un chargé QHSE expérimenté pour superviser la mise en œuvre des politiques de sécurité et
                        d’hygiène sur nos sites. Vous assurerez le suivi des normes ISO...
                    </p>
                    <div class="offre-actions">
                        <button class="btn-voir-plus">Voir plus</button>
                        <button class="btn-postuler">Postuler</button>
                    </div>
                </div>
            </div>
        
        </section>

    </main>

    <script>
       // Sélectionne tous les boutons "Voir plus"
        const voirPlusBtns = document.querySelectorAll(".btn-voir-plus");

        voirPlusBtns.forEach((btn) => {
            btn.addEventListener("click", () => {
                const description = btn.previousElementSibling; // le <p> juste avant le bouton
                const fullText = description.getAttribute("data-full");
                const shortText = fullText.slice(0, 120) + "..."; // texte court

                // Vérifie si on est en mode "voir plus" ou "voir moins"
                if (btn.textContent === "Voir plus") {
                    description.textContent = fullText;
                    btn.textContent = "Voir moins";
                } else {
                    description.textContent = shortText;
                    btn.textContent = "Voir plus";
                }
            });
        });

        const postulerBtns = document.querySelectorAll(".btn-postuler");
            const modal = document.getElementById("applyModal");
            const closeBtn = document.querySelector(".close-btn");
            const form = document.getElementById("applyForm");

            // Ouvrir la modale
            postulerBtns.forEach(btn => {
                btn.addEventListener("click", () => {
                    modal.style.display = "flex";
                });
            });

            // Fermer la modale
            closeBtn.addEventListener("click", () => {
                modal.style.display = "none";
            });

            // Fermer si on clique à l’extérieur
            window.addEventListener("click", (e) => {
                if (e.target === modal) modal.style.display = "none";
            });

            // Simulation d’envoi
            form.addEventListener("submit", (e) => {
                e.preventDefault();
                alert("Votre candidature a été envoyée avec succès !");
                modal.style.display = "none";
                form.reset();
            });


    </script>
</body>
</html>